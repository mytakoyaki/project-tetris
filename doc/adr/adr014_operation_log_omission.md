# ADR-014: 操作ログ保存の見送り

## ステータス
承認済み

## 日付
2024-12-25

## 決定者
プロジェクトチーム

## 技術的決定
操作ログ（キー入力・操作履歴）の保存は見送り、将来的な検討事項とする。

## 背景
Tetrisゲームでは、リプレイ機能・不正検出・統計分析のために操作ログの保存が検討されることがある。しかし、初期段階では実装コスト・ストレージ容量・プライバシーの観点から見送ることを決定した。

## 検討された選択肢

### 選択肢1: 操作ログ保存
- **メリット**: リプレイ機能の実装が可能、不正検出の精度向上、詳細な統計分析が可能
- **デメリット**: 実装コストが高い、ストレージ容量の大幅な増加、プライバシーリスク、パフォーマンスへの影響

### 選択肢2: 操作ログ保存見送り（採用）
- **メリット**: 実装コストが低い、ストレージ容量を抑制、プライバシーリスクの軽減、パフォーマンスへの影響なし
- **デメリット**: リプレイ機能が実装できない、不正検出の精度が制限される

## 決定理由
1. **実装コストの削減**: 初期段階ではコア機能に集中
2. **ストレージ容量の抑制**: 操作ログは大量のデータを生成するため
3. **プライバシーの保護**: 詳細な操作履歴の保存によるプライバシーリスクの回避
4. **パフォーマンスの維持**: 大量データによる処理速度への影響を防止
5. **段階的な機能実装**: MVP段階では必要最小限の機能に集中

## 代替手段
- **統計情報**: スコア・レベル・ライン数等の結果データによる統計
- **不正検出**: スコアの異常値検出・パターン分析による不正検出
- **リプレイ機能**: 将来的に操作ログ保存を実装した際の機能追加

## 将来的な検討
- **ユーザー要望**: リプレイ機能への要望が高まった場合
- **不正対策**: より高度な不正検出が必要になった場合
- **技術的進歩**: ストレージコストの大幅な低下・圧縮技術の進歩
- **プライバシー対応**: 匿名化・暗号化技術の実装

## 影響
- リプレイ機能は実装できない
- 不正検出の精度が制限される
- データベース設計がシンプルになる
- ストレージ・バックアップコストが抑制される

## 実装方針
- 操作ログ保存機能は実装しない
- 将来的な拡張を考慮した設計（操作ログテーブルの準備等）
- 統計情報による代替的な分析機能を実装
- ユーザーへの説明（リプレイ機能の未実装について） 