# ADR005: 標準的なテスト戦略を採用する

- **日付**: 2025-06-25
- **ステータス**: Accepted

---

## コンテキスト

ClaudeTetrisプロジェクト（React+Next.js, TypeScript, Redux, MUI）において、品質担保・開発効率・保守性を高めるためのテスト戦略を決定する必要があった。

現代のWebアプリ開発では、ユニットテスト・統合テスト・E2Eテスト・Lint/型チェック・CI自動化を組み合わせた標準的なテスト戦略が主流となっている。

## 決定内容

- ClaudeTetrisのテスト戦略は以下の標準構成とする：
  - **ユニットテスト/統合テスト**: Jest + React Testing Library
  - **E2Eテスト**: PlaywrightまたはCypress
  - **Lint/型チェック**: ESLint, Prettier, TypeScript
  - **CI自動化**: GitHub Actions等で全テスト・型チェック・Lintを自動実行
- テストは「実装と同時に書く」「PR/マージ時に必ず通す」「リリース前にE2E/回帰テスト」を基本運用とする
- テストの質・保守性・実行速度・CI連携に注意し、形骸化しない運用を徹底する

## 影響・結果

- 品質担保・バグの早期発見・安心してリファクタできる体制が整う
- 開発効率・保守性・チーム開発の生産性が向上
- CI/CDによる自動化でヒューマンエラーを防止

## 代替案

- **E2E重視型**: ユニットテストを最小限にし、E2Eテスト中心にする方式もあるが、開発効率やバグ検出の粒度で標準構成を優先
- **TDD/BDD志向型**: Storybookやスナップショットテストを厚くする方式もあるが、まずは標準構成をベースに運用

## ステータス

このADRは**Accepted**とする。今後のテスト戦略はこの標準構成を前提とする。 