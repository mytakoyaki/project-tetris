# ADR-011: SNSログイン導入による利便性向上

## ステータス
承認済み

## 日付
2024-12-25

## 決定者
プロジェクトチーム

## 技術的決定
ユーザー利便性向上のため、SNSログイン（Google, Twitter, Apple等）を導入する。

## 背景
オンライン対戦機能のログイン必須化に伴い、ユーザーの登録・ログインの心理的ハードルを下げる必要がある。また、現代のWebアプリケーションではSNSログインが標準的な認証手段となっている。

## 検討された選択肢

### 選択肢1: メール/パスワードのみ（従来方式）
- **メリット**: 実装が簡単、追加の外部サービス依存がない
- **デメリット**: ユーザーの登録・ログインの手間が大きい、パスワード管理の負担、アカウント作成の離脱率が高い

### 選択肢2: SNSログイン導入（採用）
- **メリット**: ユーザーの登録・ログインが簡単、パスワード管理の負担がない、アカウント作成の離脱率が低い、セキュリティが向上（SNS側の認証に依存）
- **デメリット**: 外部サービスへの依存、実装の複雑性、SNS側の仕様変更への対応が必要

## 決定理由
1. **ユーザー体験の向上**: ワンクリックでの登録・ログインが可能
2. **アカウント作成の離脱率削減**: 手間を最小限に抑えることで、ユーザーの継続利用を促進
3. **セキュリティの向上**: SNS側の強固な認証システムを活用
4. **現代的なUX**: ユーザーが期待する標準的な認証フローを提供
5. **将来的な拡張性**: SNS連携による機能拡張（フレンド機能等）が可能

## 対象SNS
- **Google**: 最も普及しているSNSログイン
- **Twitter**: ゲームコミュニティとの親和性が高い
- **Apple**: iOSユーザー向け（App Store審査対応）

## 影響
- NextAuth.js等の認証ライブラリの導入が必要
- SNS APIの設定・管理が必要
- ユーザーテーブルの設計変更（SNS ID対応）
- プライバシーポリシー・利用規約の更新が必要

## 実装方針
- NextAuth.js v4を使用したSNSログイン実装
- メール/パスワード認証も併存（フォールバック）
- SNS IDとメールアドレスの紐付け管理
- ユーザープロフィール情報のSNS連携（アバター等） 