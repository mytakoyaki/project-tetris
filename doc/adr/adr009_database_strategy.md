# ADR009: データベース方針の選定

## ステータス
提案

## 日付
2024-06-25

## コンテキスト
ClaudeTetrisプロジェクトはSPA（React＋Next.js）＋API構成を採用しており、ユーザー・スコア・実績・ランキングなどの構造化データを安全かつ効率的に管理する必要がある。今後の拡張性・保守性・運用性も考慮し、データベース方針を決定する。

## 決定内容
- **基本的にリレーショナルデータベース（RDBMS：PostgreSQLまたはMySQL系）を使用する。**
- **クラウドDBサービス（PlanetScale, Supabase, AWS RDS等）を活用し、運用負荷を低減する。**
- **必要に応じてNoSQL/インメモリDB（例：Redis）を補助的に利用する。**

## 理由
- RDBMSはデータの整合性・一貫性が高く、スキーマ管理・型安全性に優れる。
- SQLでランキングや集計クエリが簡単・高速に実装できる。
- クラウドDBサービスにより、スケーラビリティ・バックアップ・高可用性が自動化され、運用負荷が低い。
- 将来的なデータ分析や外部連携にも強い。

## 今後の課題
- テーブル設計（ユーザー、スコア、実績、セッション等）の詳細化
- マイグレーション・ORMツール（Prisma, TypeORM等）の選定
- 開発・本番用DBの運用方針決定
- セキュリティ・バックアップ・障害対策の設計 