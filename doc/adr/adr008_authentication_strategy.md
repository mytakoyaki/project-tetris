# ADR008: 認証方式の選定

## ステータス
提案

## 日付
2024-06-25

## コンテキスト
ClaudeTetrisプロジェクトはSPA（React＋Next.js）＋API構成を採用しており、ユーザー認証が必要となる。初期リリース時点ではシンプルかつ堅牢な認証方式を優先し、将来的な拡張性も考慮する必要がある。

## 決定内容
- **初期リリースではJWTベースのトークン認証（HttpOnly Cookie保存）を採用する。**
- **リリース後、ユーザー拡大や利便性向上のタイミングでOAuth2/Social Login（Google, Twitter, GitHub等）を段階的に導入する。**
- **既存のJWT認証とOAuth2認証は併用可能な設計とする。**

## 理由
- JWT認証はSPA＋API構成と親和性が高く、開発・運用がシンプル。
- HttpOnly Cookie保存によりXSSリスクを低減できる。
- OAuth2/Social Loginは後からでも追加しやすく、ユーザー体験や不正対策の強化が可能。
- 段階的導入により、初期開発コストを抑えつつ将来的な拡張性も確保できる。

## 今後の課題
- JWT認証の詳細設計（トークン発行・検証・失効、CSRF/XSS対策等）
- OAuth2/Social Login導入時のユーザー統合・アカウント管理設計
- 認可（Authorization）設計（管理者/一般ユーザー等の権限管理）
- セキュリティ対策の継続的な見直し 