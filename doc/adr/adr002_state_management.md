# ADR002: 状態管理にReduxを採用する

- **日付**: 2025-06-25
- **ステータス**: Accepted

---

## コンテキスト

ClaudeTetrisプロジェクトをSPA化（React+Next.js）するにあたり、アプリ全体の状態管理方式を決定する必要があった。

ゲーム進行状態（スコア、レベル、フィールド情報など）やチュートリアル進行、ランキング、実績など、グローバルに一元管理したい状態が多く、また将来的な拡張やデバッグ性も重視したい。

## 決定内容

- ClaudeTetrisの状態管理には**Redux**（Redux Toolkit, React-Redux併用）を採用する。
- グローバルなゲーム状態、ユーザー情報、ランキング、実績、チュートリアル進行などをReduxストアで一元管理する。
- ローカルなUI状態や一時的な値はuseState/useReducer等で管理し、過剰なグローバル化を避ける。
- Redux DevTools等の開発支援ツールも活用する。

## 影響・結果

- 状態の流れが明確になり、デバッグやテストが容易になる。
- 大規模化や機能追加時にも拡張しやすい構成となる。
- Redux Toolkitによりボイラープレートが削減され、TypeScriptとの親和性も高い。
- 状態の変更履歴やタイムトラベルデバッグが可能。

## 代替案

- **Context APIのみ**: 小規模なら十分だが、頻繁な状態更新や複雑な状態遷移には不向き。
- **Zustand/Recoil/MobX等の軽量ライブラリ**: シンプルだが、デバッグ性やエコシステムの充実度でReduxを優先。

## ステータス

このADRは**Accepted**とする。今後の状態管理はReduxを前提とする。 